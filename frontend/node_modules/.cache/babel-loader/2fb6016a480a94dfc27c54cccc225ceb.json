{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyProjects\\\\Clones\\\\HomeToGo\\\\frontend\\\\src\\\\components\\\\pages\\\\rental-detail\\\\RentalDetailAddReview.jsx\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { addReview } from 'store/reviews/actions';\nimport Rating from '@material-ui/lab/Rating';\nimport { Modal } from 'react-responsive-modal';\nimport { Button } from 'components/app';\n\nconst RentalDetailAddReview = ({\n  open,\n  onCloseModal,\n  user,\n  rental,\n  addReview,\n  reviews\n}) => {\n  // eslint-disable-next-line\n  const [name, setName] = useState(user ? user.username : 'Guest');\n  const [text, setText] = useState('');\n  const [rate, setRate] = useState(1);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const review = {\n      user: name,\n      rental: rental._id,\n      text,\n      rate\n    };\n    let rates = reviews === null || reviews === void 0 ? void 0 : reviews.map(review => review.rate);\n    rates.push(rate);\n    let updatedRate = rates.reduce((prev, curr) => prev + curr, 0) / rates.length;\n    addReview(review, updatedRate);\n    onCloseModal();\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    focusTrapped: false,\n    open: open,\n    onClose: () => onCloseModal(),\n    center: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Add Review\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add__review-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Choose Your Rate\"), /*#__PURE__*/React.createElement(Rating, {\n    precision: 0.1,\n    name: \"rental-rate\",\n    className: \"reviews__card-icon\",\n    value: rate,\n    onChange: (event, newValue) => {\n      setRate(newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Name\",\n    value: name,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"8\",\n    type: \"text\",\n    placeholder: \"Write your review\",\n    value: text,\n    onChange: e => setText(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    text: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst mapStateToProps = state => ({\n  user: state.authApp.user,\n  reviews: state.reviewsApp.reviews\n});\n\nconst mapDispatchToProps = {\n  addReview\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(RentalDetailAddReview);","map":{"version":3,"sources":["D:/MyProjects/Clones/HomeToGo/frontend/src/components/pages/rental-detail/RentalDetailAddReview.jsx"],"names":["React","useState","connect","addReview","Rating","Modal","Button","RentalDetailAddReview","open","onCloseModal","user","rental","reviews","name","setName","username","text","setText","rate","setRate","onSubmit","event","preventDefault","review","_id","rates","map","push","updatedRate","reduce","prev","curr","length","newValue","e","target","value","mapStateToProps","state","authApp","reviewsApp","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addReview } from 'store/reviews/actions';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { Modal } from 'react-responsive-modal';\r\nimport { Button } from 'components/app';\r\n\r\nconst RentalDetailAddReview = ({\r\n  open,\r\n  onCloseModal,\r\n  user,\r\n  rental,\r\n  addReview,\r\n  reviews,\r\n}) => {\r\n  // eslint-disable-next-line\r\n  const [name, setName] = useState(user ? user.username : 'Guest');\r\n  const [text, setText] = useState('');\r\n  const [rate, setRate] = useState(1);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    const review = {\r\n      user: name,\r\n      rental: rental._id,\r\n      text,\r\n      rate,\r\n    };\r\n    let rates = reviews?.map((review) => review.rate);\r\n    rates.push(rate);\r\n    let updatedRate =\r\n      rates.reduce((prev, curr) => prev + curr, 0) / rates.length;\r\n    addReview(review, updatedRate);\r\n    onCloseModal();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      focusTrapped={false}\r\n      open={open}\r\n      onClose={() => onCloseModal()}\r\n      center\r\n    >\r\n      <div className='modal__header'>\r\n        <h2>Add Review</h2>\r\n      </div>\r\n      <div className='modal__body'>\r\n        <form onSubmit={onSubmit}>\r\n          <div className='add__review-top'>\r\n            <label>Choose Your Rate</label>\r\n            <Rating\r\n              precision={0.1}\r\n              name='rental-rate'\r\n              className='reviews__card-icon'\r\n              value={rate}\r\n              onChange={(event, newValue) => {\r\n                setRate(newValue);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='inputs'>\r\n            <div className='input'>\r\n              <input type='text' placeholder='Name' value={name} readOnly />\r\n            </div>\r\n            <div className='input'>\r\n              <textarea\r\n                rows='8'\r\n                type='text'\r\n                placeholder='Write your review'\r\n                value={text}\r\n                onChange={(e) => setText(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Button type='submit' text='Submit' />\r\n        </form>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.authApp.user,\r\n  reviews: state.reviewsApp.reviews,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  addReview,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RentalDetailAddReview);\r\n"]},"metadata":{},"sourceType":"module"}